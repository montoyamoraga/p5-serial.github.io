<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    <section>
        <article><h1 style="margin: 0" class="page-title">p5.serialport</h1>
<p>A <a href="http://p5js.org/">p5.js</a> library that enables communication between your p5 sketch and Arduino (or another serial enabled device).</p>
<h2>What Does it Do?</h2>
<p>p5.serialport more or less clones the <a href="https://processing.org/reference/libraries/serial/index.html">Processing Serial Library API</a>. As JavaScript in a browser can not interact directly with a serial port, this library solves this. p5.serialport comes in two flavors; one is a simple app, this is good for all skill levels and is the easiest to use; second is Node.js based WebSocket server, this is for more skilled advanced users or someone who needs heavy customization.</p>
<h2>p5.serial App</h2>
<p>To begin download and run a <a href="https://github.com/p5-serial/p5.serialcontrol/releases">release of p5.serialcontrol</a>. This application incorporates p5.serialserver in a GUI application for MacOS and Windows.</p>
<p>Once you have the application launched load one of the <a href="#examples">examples</a> in your browser to see it in action.</p>
<ul>
<li>You'll likely have to change the name of the serial port in the examples to the one your Arduino is using.</li>
</ul>
<h2>p5.serial Node.js</h2>
<p>To Use:</p>
<p>Connect an Arduino or other serial device to your computuer.</p>
<p>Clone or download this repo and install the dependencies with: <code>npm install</code> and start the server with: <code>node startserver.js</code></p>
<p>Alternatively, you can install the server globally via npm with <code>sudo npm install -g p5.serialserver</code>  and then run it with <code>p5serial</code> or locally with <code>npm install p5.serialserver</code> and run it from the node_modules directory with <code>node startserver.js</code></p>
<p>Then load one of the <a href="#examples">examples</a> in your browser to see it in action.</p>
<ul>
<li>You'll likely have to change the name of the serial port in the examples to the one your Arduino is using.</li>
</ul>
<h2><a href="https://p5-serial.github.io/">API</a></h2>
<h2>Examples</h2>
<ul>
<li>Basic Example: <a href="https://editor.p5js.org/p5-serial/sketches/-xa-lIH3Y">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/basics">github repo</a></li>
<li>Echo Example: <a href="https://editor.p5js.org/p5-serial/sketches/hirvh8hZ-">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/echo">github repo</a></li>
<li>Echo (with serial options) Example: <a href="https://editor.p5js.org/p5-serial/sketches/dG0tw9Vv6">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/echo2">github repo</a></li>
<li>Make Port Menu Example: <a href="https://editor.p5js.org/p5-serial/sketches/WBH01aWdB">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/makePortMenu">github repo</a></li>
<li>Read and Animate Example: <a href="https://editor.p5js.org/p5-serial/sketches/rfrtcdrJd">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/readAndAnimate">github repo</a></li>
<li>Read Count Example: <a href="https://editor.p5js.org/p5-serial/sketches/g7xhJIO27">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/readCount">github repo</a></li>
<li>Two Arduinos Example: <a href="https://editor.p5js.org/p5-serial/sketches/yWTivVhtG">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/twoArduinos">github repo</a></li>
<li>Write Example: <a href="https://editor.p5js.org/p5-serial/sketches/RH9J9z5YG">p5 web editor</a> | <a href="https://github.com/p5-serial/p5.serialport/tree/master/examples/writeExample">github repo</a></li>
</ul>
<p>###Basic Example</p>
<pre class="prettyprint source lang-javascript"><code>let serial;

function setup() {
  // Instantiate our SerialPort object
  serial = new p5.SerialPort();

  // Let's list the ports available
  let portlist = serial.list();

  // Assuming our Arduino is connected, let's open the connection to it
  // Change this to the name of your arduino's serial port
  serial.open(&quot;/dev/cu.usbmodem1421&quot;);

  // Register some callbacks

  // When we connect to the underlying server
  serial.on('connected', serverConnected);

  // When we get a list of serial ports that are available
  serial.on('list', gotList);

  // When we some data from the serial port
  serial.on('data', gotData);

  // When or if we get an error
  serial.on('error', gotError);

  // When our serial port is opened and ready for read/write
  serial.on('open', gotOpen);
}

// We are connected and ready to go
function serverConnected() {
    print(&quot;We are connected!&quot;);
}

// Got the list of ports
function gotList(thelist) {
  // theList is an array of their names
  for (let i = 0; i &lt; thelist.length; i++) {
    // Display in the console
    print(i + &quot; &quot; + thelist[i]);
  }
}

// Connected to our serial device
function gotOpen() {
  print(&quot;Serial Port is open!&quot;);
}

// Ut oh, here is an error, let's log it
function gotError(theerror) {
  print(theerror);
}

// There is data available to work with from the serial port
function gotData() {
  let currentString = serial.readStringUntil(&quot;\r\n&quot;);
  console.log(currentString);
}

// Methods available
// serial.read() returns a single byte of data (first in the buffer)
// serial.readChar() returns a single char 'A', 'a'
// serial.readBytes() returns all of the data available as an array of bytes
// serial.readBytesUntil('\n') returns all of the data available until a '\n' (line break) is encountered
// serial.readString() retunrs all of the data available as a string
// serial.readStringUntil('\n') returns all of the data available as a tring until a (line break) is encountered
// serial.last() returns the last byte of data from the buffer
// serial.lastChar() returns the last byte of data from the buffer as a char
// serial.clear() clears the underlying serial buffer
// serial.available() returns the number of bytes available in the buffer

function draw() {
  // Polling method
/*
  if (serial.available() > 0) {
    let data = serial.read();
    ellipse(50,50,data,data);
  }
*/
}
</code></pre>
<h2>Documentation</h2>
<p>To generate documentation, install jsdoc (<code>npm install -g jsdoc</code>) and run
<code>npm run doc</code></p></article>
    </section>









<section>

<header>
    
        <h2>classes/Client.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Client object that gets created when new web socket client connects to server. Maintains SerialPort objects that the client subscribes to.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shawn Van Every</li>
        
            <li>Jiwon Shin</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_Client.js.html">classes/Client.js</a>, <a href="classes_Client.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:NPM:serialport</li>
        
            <li>module:NPM:ws</li>
        
            <li>module:classes/SerialPort.js:SerialPort</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>classes/SerialPort.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>SerialPort class that gets created when new serial port is opened. Maintains list of connected Client objects to forward data received from the serial port.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shawn Van Every</li>
        
            <li>Jiwon Shin</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_SerialPort.js.html">classes/SerialPort.js</a>, <a href="classes_SerialPort.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:NPM:serialport</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>p5.serialserver.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Sets up web socket server and handles client connections by creating and deleting Client objects and SerialPort objects</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shawn Van Every</li>
        
            <li>Jiwon Shin</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="p5.serialserver.js.html">p5.serialserver.js</a>, <a href="p5.serialserver.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:classes/Client.js:Client</li>
        
            <li>module:classes/SerialPort.js:SerialPort</li>
        
            <li>module:NPM:ws</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>startserver.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>start p5.serialserver by calling start() function in <a href="p5.serialserver.js.html"><code>p5.serialserver.js</code></a></p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shawn Van Every</li>
        
            <li>Jiwon Shin</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="startserver.js.html">startserver.js</a>, <a href="startserver.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:p5.serialserver.js</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="SerialPort.html">SerialPort</a></li></ul><h3>Events</h3><ul><li><a href="Client.html#event:message">message</a></li></ul><h3>Global</h3><ul><li><a href="global.html#clients">clients</a></li><li><a href="global.html#LOGGING">LOGGING</a></li><li><a href="global.html#logit">logit</a></li><li><a href="global.html#serialPorts">serialPorts</a></li><li><a href="global.html#serialPortsList">serialPortsList</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#stop">stop</a></li><li><a href="global.html#wss">wss</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Mon Aug 12 2019 15:11:05 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>